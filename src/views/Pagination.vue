<template>
  <div class="demo-page">
    <header class="page-header">
      <h1>ğŸ“‘ è‡ªå®šä¹‰åˆ†é¡µæ§åˆ¶</h1>
      <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
    </header>

    <div class="content-grid">
      <aside class="info-panel">
        <h2>ğŸ“– åˆ†é¡µæ§åˆ¶æ·±åº¦è®²è§£</h2>

        <div class="info-section highlight-section">
          <h3>ğŸ¯ ä»€ä¹ˆæ˜¯åˆ†é¡µæ§åˆ¶ï¼Ÿ</h3>
          <p>åˆ†é¡µæ§åˆ¶æ˜¯æŒ‡åœ¨ç”Ÿæˆæˆ–æ‰“å°æ–‡æ¡£æ—¶ï¼Œç²¾ç¡®å†³å®šå†…å®¹å¦‚ä½•åˆ†å¸ƒåœ¨å¤šä¸ªé¡µé¢ä¸Šçš„èƒ½åŠ›ã€‚</p>
          <p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong></p>
          <ul>
            <li>åœ¨å“ªé‡Œåˆ†é¡µï¼Ÿ</li>
            <li>å¦‚ä½•é¿å…å†…å®¹è¢«æˆªæ–­ï¼Ÿ</li>
            <li>å¦‚ä½•æ·»åŠ é¡µçœ‰é¡µè„šï¼Ÿ</li>
            <li>å¦‚ä½•æ˜¾ç¤ºé¡µç ï¼Ÿ</li>
          </ul>
        </div>

        <div class="info-section">
          <h3>ğŸ” å…³é”®å¯¹æ¯”ç»´åº¦</h3>
          <div class="comparison-mini">
            <div class="compare-item">
              <strong>ç²¾ç¡®åº¦</strong>
              <p>ğŸ¥‡ jsPDF/PDF-LIB - åƒç´ çº§æ§åˆ¶</p>
              <p>ğŸ¥ˆ pdfmake - å…ƒç´ çº§æ§åˆ¶</p>
              <p>ğŸ¥‰ CSS - ä¾èµ–æµè§ˆå™¨</p>
            </div>
            <div class="compare-item">
              <strong>æ˜“ç”¨æ€§</strong>
              <p>ğŸ¥‡ CSS - æœ€ç®€å•</p>
              <p>ğŸ¥ˆ pdfmake - å£°æ˜å¼</p>
              <p>ğŸ¥‰ jsPDF - éœ€è®¡ç®—</p>
            </div>
            <div class="compare-item">
              <strong>åŠŸèƒ½æ€§</strong>
              <p>ğŸ¥‡ PDF-LIB - å¯ç¼–è¾‘PDF</p>
              <p>ğŸ¥ˆ pdfmake - è‡ªåŠ¨åˆ†é¡µ</p>
              <p>ğŸ¥‰ CSS - åŸºç¡€åŠŸèƒ½</p>
            </div>
          </div>
        </div>

        <h2>å„æ–¹æ¡ˆç‰¹ç‚¹</h2>

        <div class="info-section">
          <h3>1ï¸âƒ£ CSS åˆ†é¡µ</h3>
          <p class="rating">â­â­â­â­</p>
          <p><strong>ä¼˜åŠ¿ï¼š</strong></p>
          <ul>
            <li>âœ… æ— éœ€ä¾èµ–ï¼ŒåŸç”Ÿæ”¯æŒ</li>
            <li>âœ… è¯­æ³•ç®€å•ï¼Œpage-break-*</li>
            <li>âœ… æ€§èƒ½æœ€ä½³</li>
          </ul>
          <p><strong>åŠ£åŠ¿ï¼š</strong></p>
          <ul>
            <li>âŒ ä¸åŒæµè§ˆå™¨è¡¨ç°ä¸ä¸€</li>
            <li>âŒ æ— æ³•ç²¾ç¡®æ§åˆ¶ä½ç½®</li>
            <li>âŒ ä¸èƒ½ç”ŸæˆPDFæ–‡ä»¶</li>
          </ul>
          <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>ç®€å•æ‰“å°ã€å¿«é€Ÿå¼€å‘</p>
        </div>

        <div class="info-section">
          <h3>2ï¸âƒ£ jsPDF åˆ†é¡µ</h3>
          <p class="rating">â­â­â­â­â­</p>
          <p><strong>ä¼˜åŠ¿ï¼š</strong></p>
          <ul>
            <li>âœ… å®Œå…¨å¯æ§ï¼Œåƒç´ çº§ç²¾åº¦</li>
            <li>âœ… addPage()æ‰‹åŠ¨æ§åˆ¶</li>
            <li>âœ… å¯è®¡ç®—é¡µé¢é«˜åº¦</li>
            <li>âœ… çŸ¢é‡å›¾å½¢ï¼Œæ–‡ä»¶å°</li>
          </ul>
          <p><strong>åŠ£åŠ¿ï¼š</strong></p>
          <ul>
            <li>âŒ éœ€è¦æ‰‹åŠ¨è®¡ç®—Yåæ ‡</li>
            <li>âŒ ä»£ç é‡è¾ƒå¤š</li>
            <li>âŒ ä¸­æ–‡éœ€é¢å¤–å­—ä½“</li>
          </ul>
          <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>éœ€è¦ç²¾ç¡®æ§åˆ¶çš„æŠ¥è¡¨ã€è¡¨æ ¼</p>
        </div>

        <div class="info-section">
          <h3>3ï¸âƒ£ pdfmake åˆ†é¡µ</h3>
          <p class="rating">â­â­â­â­â­</p>
          <p><strong>ä¼˜åŠ¿ï¼š</strong></p>
          <ul>
            <li>âœ… å£°æ˜å¼ï¼ŒpageBreakå±æ€§</li>
            <li>âœ… è‡ªåŠ¨åˆ†é¡µï¼Œæ— éœ€è®¡ç®—</li>
            <li>âœ… å†…ç½®é¡µçœ‰é¡µè„šæ”¯æŒ</li>
            <li>âœ… è¡¨æ ¼è‡ªåŠ¨è·¨é¡µ</li>
          </ul>
          <p><strong>åŠ£åŠ¿ï¼š</strong></p>
          <ul>
            <li>âŒ åº“ä½“ç§¯å¤§(~600KB)</li>
            <li>âŒ éœ€å­¦ä¹ ç‰¹å®šè¯­æ³•</li>
          </ul>
          <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>å¤æ‚æ–‡æ¡£ã€åˆåŒã€å‘ç¥¨</p>
        </div>

        <div class="info-section">
          <h3>4ï¸âƒ£ PDF-LIB åˆ†é¡µ</h3>
          <p class="rating">â­â­â­â­â­</p>
          <p><strong>ä¼˜åŠ¿ï¼š</strong></p>
          <ul>
            <li>âœ… å¯ç¼–è¾‘ç°æœ‰PDF</li>
            <li>âœ… æ”¯æŒé¡µé¢æ’å…¥ã€åˆ é™¤</li>
            <li>âœ… åˆå¹¶å¤šä¸ªPDF</li>
            <li>âœ… ç°ä»£åŒ–API</li>
          </ul>
          <p><strong>åŠ£åŠ¿ï¼š</strong></p>
          <ul>
            <li>âŒ å­¦ä¹ æ›²çº¿è¾ƒé™¡</li>
            <li>âŒ ä¸é€‚åˆä»é›¶åˆ›å»ºå¤æ‚å¸ƒå±€</li>
          </ul>
          <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>PDFä¿®æ”¹ã€æ‰¹é‡å¤„ç†</p>
        </div>

        <div class="info-section">
          <h3>5ï¸âƒ£ å…¶ä»–æ–¹æ¡ˆ</h3>
          <p class="rating">â­â­â­</p>
          <p><strong>Print.js / vue3-print-nb / print-html-element</strong></p>
          <ul>
            <li>âš ï¸ ä¾èµ–CSSåˆ†é¡µ</li>
            <li>âš ï¸ ä¾èµ–æµè§ˆå™¨æ‰“å°</li>
            <li>âœ… è½»é‡çº§ï¼Œæ˜“ä½¿ç”¨</li>
          </ul>
          <p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong>å¿«é€Ÿæ‰“å°ï¼Œå¯¹åˆ†é¡µè¦æ±‚ä¸é«˜</p>
        </div>
      </aside>

      <main class="demo-panel">
        <div class="section">
          <h2>1. CSS åˆ†é¡µï¼ˆæµè§ˆå™¨åŸç”Ÿï¼‰</h2>
          <button @click="printCSSPaging" class="btn btn-primary">ğŸ–¨ï¸ æµ‹è¯• CSS åˆ†é¡µ</button>

          <div id="css-paging" class="demo-content">
            <div class="page page-break-after">
              <h2>ç¬¬ä¸€é¡µ - CSSåˆ†é¡µçš„ä¼˜åŠ¿</h2>
              <p>âœ… <strong>æ— éœ€ä¾èµ–ï¼š</strong>ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œä¸éœ€è¦ä»»ä½•ç¬¬ä¸‰æ–¹åº“</p>
              <p>âœ… <strong>è¯­æ³•ç®€å•ï¼š</strong>åªéœ€è¦æ·»åŠ  CSS ç±»å³å¯</p>
              <p>âœ… <strong>æ€§èƒ½æœ€ä½³ï¼š</strong>ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ¸²æŸ“å¼•æ“</p>
              <p style="margin-top: 20px">ä¸‹é¢è¿™æ®µæ–‡å­—è·ç¦»æ ‡é¢˜ 20pxï¼Œä½†æ‰“å°æ—¶ä½ç½®å¯èƒ½ä¼šå˜åŒ–...</p>
            </div>

            <div class="page page-break-after">
              <h2>ç¬¬äºŒé¡µ - CSSåˆ†é¡µçš„åŠ£åŠ¿æ¼”ç¤º</h2>
              <p>âŒ <strong>æ— æ³•ç²¾ç¡®æ§åˆ¶ä½ç½®ï¼š</strong></p>
              <p style="margin-top: 50px">è¿™æ®µæ–‡å­—è®¾ç½®äº† margin-top: 50px</p>
              <p style="margin-top: 100px">è¿™æ®µæ–‡å­—è®¾ç½®äº† margin-top: 100px</p>
              <p>
                <strong>é—®é¢˜ï¼š</strong>æ‰“å°æ—¶ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šè°ƒæ•´è¿™äº›é—´è·ï¼Œå¯¼è‡´å®é™…æ‰“å°ä½ç½®ä¸é¢„æœŸä¸ç¬¦
              </p>
              <p><strong>æ— æ³•çŸ¥é“ï¼š</strong>è¿™æ®µæ–‡å­—åœ¨PDFä¸­çš„ç²¾ç¡®Yåæ ‡æ˜¯å¤šå°‘</p>
            </div>

            <div class="page">
              <h2>ç¬¬ä¸‰é¡µ - ä¸åŒæµè§ˆå™¨è¡¨ç°å·®å¼‚</h2>
              <p>âŒ <strong>å…¼å®¹æ€§é—®é¢˜ï¼š</strong></p>
              <p>â€¢ Chrome å¯èƒ½åœ¨ 280mm å¤„åˆ†é¡µ</p>
              <p>â€¢ Firefox å¯èƒ½åœ¨ 275mm å¤„åˆ†é¡µ</p>
              <p>â€¢ Safari å¯èƒ½åœ¨ 285mm å¤„åˆ†é¡µ</p>
              <p style="margin-top: 30px">
                <strong>ç»“è®ºï¼š</strong>CSSåˆ†é¡µé€‚åˆå¯¹ç²¾ç¡®åº¦è¦æ±‚ä¸é«˜çš„å¿«é€Ÿæ‰“å°åœºæ™¯
              </p>
            </div>
          </div>

          <div class="code-block">
            <h4>CSS åˆ†é¡µä»£ç </h4>
            <pre><code>/* åœ¨å…ƒç´ åå¼ºåˆ¶åˆ†é¡µ */
.page-break-after {
  page-break-after: always;
}

/* é¿å…å…ƒç´ å†…éƒ¨åˆ†é¡µ */
.page-break-inside-avoid {
  page-break-inside: avoid;
}

/* æ–°æ ‡å‡† (æ¨è) */
.break-after-page {
  break-after: page;
}

.break-inside-avoid {
  break-inside: avoid;
}

@media print {
  .page-break-after {
    page-break-after: always;
    break-after: page;
  }
}</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>2. jsPDF ç²¾ç¡®åˆ†é¡µ</h2>
          <button @click="generateJsPDFPaging" class="btn btn-secondary">ğŸ“„ ç”Ÿæˆå¤šé¡µ PDF</button>

          <div
            class="info-box"
            style="
              background: #f0f7ff;
              padding: 15px;
              border-radius: 8px;
              margin: 15px 0;
              border-left: 4px solid #667eea;
            "
          >
            <h4 style="margin-top: 0; color: #667eea">ğŸ’¡ jsPDF åˆ†é¡µåŸç†è¯¦è§£</h4>
            <p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong>é€šè¿‡è®¡ç®— Y è½´ä½ç½®åˆ¤æ–­æ˜¯å¦éœ€è¦æ–°é¡µ</p>
            <ul>
              <li>
                <strong>é¡µé¢é«˜åº¦ï¼š</strong
                ><code>doc.internal.pageSize.height</code> è·å–PDFé¡µé¢çš„æ€»é«˜åº¦
              </li>
              <li><strong>ä½ç½®è¿½è¸ªï¼š</strong>ä½¿ç”¨ <code>yPosition</code> å˜é‡è¿½è¸ªå½“å‰ç»˜åˆ¶ä½ç½®</li>
              <li>
                <strong>åˆ†é¡µåˆ¤æ–­ï¼š</strong>å½“
                <code>yPosition > pageHeight - margin</code> æ—¶éœ€è¦æ–°é¡µ
              </li>
              <li>
                <strong>æ·»åŠ æ–°é¡µï¼š</strong>è°ƒç”¨ <code>doc.addPage()</code> å¹¶é‡ç½®
                <code>yPosition</code>
              </li>
              <li>
                <strong>é¡µç æ§åˆ¶ï¼š</strong>éå†æ‰€æœ‰é¡µé¢ï¼Œä½¿ç”¨
                <code>doc.setPage(i)</code> åˆ‡æ¢é¡µé¢æ·»åŠ é¡µç 
              </li>
            </ul>
            <p>
              <strong>ä¼˜åŠ¿ï¼š</strong>å¯ä»¥ç²¾ç¡®æ§åˆ¶æ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œåˆ†é¡µé€»è¾‘ï¼Œé€‚åˆéœ€è¦ç²¾ç¡®å¸ƒå±€çš„åœºæ™¯ã€‚
            </p>
            <p>
              <strong>æ³¨æ„ï¼š</strong>jsPDF
              é»˜è®¤å­—ä½“ä¸æ”¯æŒä¸­æ–‡ï¼Œéœ€è¦è‡ªè¡Œå¯¼å…¥ä¸­æ–‡å­—ä½“æ–‡ä»¶ã€‚æœ¬ç¤ºä¾‹ä½¿ç”¨è‹±æ–‡å’Œæ•°å­—æ¼”ç¤ºåˆ†é¡µåŠŸèƒ½ã€‚
            </p>
          </div>

          <div class="code-block">
            <h4>jsPDF åˆ†é¡µä»£ç </h4>
            <pre><code>import { jsPDF } from 'jspdf';

const doc = new jsPDF();
const pageHeight = doc.internal.pageSize.height;
let yPosition = 20;

// æ·»åŠ å†…å®¹ï¼Œè‡ªåŠ¨åˆ†é¡µ
for (let i = 0; i &lt; 100; i++) {
  // æ£€æŸ¥æ˜¯å¦éœ€è¦æ–°é¡µ
  if (yPosition &gt; pageHeight - 20) {
    doc.addPage();
    yPosition = 20;
  }

  doc.text(\`Line \${i + 1}\`, 10, yPosition);
  yPosition += 10;
}

// æ·»åŠ é¡µç 
const totalPages = doc.internal.getNumberOfPages();
for (let i = 1; i &lt;= totalPages; i++) {
  doc.setPage(i);
  doc.text(\`Page \${i} of \${totalPages}\`,
    105, pageHeight - 10, { align: 'center' });
}

doc.save('paged-document.pdf');</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>3. pdfmake å£°æ˜å¼åˆ†é¡µ</h2>
          <button @click="generatePdfmakePaging" class="btn btn-info">ğŸ“‹ ç”Ÿæˆ pdfmake åˆ†é¡µ</button>

          <div class="code-block">
            <h4>pdfmake åˆ†é¡µä»£ç </h4>
            <pre><code>import pdfMake from 'pdfmake/build/pdfmake';

const docDefinition = {
  content: [
    { text: 'ç¬¬ä¸€é¡µå†…å®¹' },
    { text: 'ç¬¬äºŒé¡µå†…å®¹', pageBreak: 'before' },
    {
      text: 'ç¬¬ä¸‰é¡µå†…å®¹',
      pageBreakBefore: (currentNode, followingNodesOnPage) => {
        return currentNode.headlineLevel === 1;
      }
    },
    // å¤§è¡¨æ ¼è‡ªåŠ¨åˆ†é¡µ
    {
      table: {
        headerRows: 1,
        body: largeDataArray
      },
      layout: 'lightHorizontalLines'
    }
  ],
  // é¡µçœ‰
  header: (currentPage, pageCount) => ({
    text: 'æ–‡æ¡£æ ‡é¢˜',
    alignment: 'center',
    margin: [0, 10]
  }),
  // é¡µè„š
  footer: (currentPage, pageCount) => ({
    text: \`ç¬¬ \${currentPage} é¡µ / å…± \${pageCount} é¡µ\`,
    alignment: 'center'
  })
};

pdfMake.createPdf(docDefinition).download();</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>4. html2canvas + html2pdf åˆ†é¡µ</h2>
          <button @click="generateHtml2PdfPaging" class="btn btn-warning">ğŸ–¼ï¸ HTMLè½¬PDFåˆ†é¡µ</button>

          <div class="code-block">
            <h4>html2pdf åˆ†é¡µä»£ç </h4>
            <pre><code>import html2pdf from 'html2pdf.js';

const element = document.getElementById('content');

const options = {
  margin: 10,
  filename: 'document.pdf',
  image: { type: 'jpeg', quality: 0.98 },
  html2canvas: { scale: 2 },
  jsPDF: {
    unit: 'mm',
    format: 'a4',
    orientation: 'portrait'
  },
  pagebreak: {
    mode: ['avoid-all', 'css', 'legacy'],
    before: '.page-break-before',
    after: '.page-break-after'
  }
};

html2pdf().set(options).from(element).save();</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>5. PDF-LIB é«˜çº§åˆ†é¡µ</h2>
          <button @click="generatePdfLibPaging" class="btn btn-success">ğŸ“š PDF-LIB åˆ†é¡µç¤ºä¾‹</button>

          <div class="code-block">
            <h4>PDF-LIB åˆ†é¡µä»£ç </h4>
            <pre><code>import { PDFDocument, rgb } from 'pdf-lib';

const pdfDoc = await PDFDocument.create();

// åˆ›å»ºå¤šé¡µæ–‡æ¡£
for (let i = 0; i &lt; 5; i++) {
  const page = pdfDoc.addPage([600, 800]);

  page.drawText(\`Page \${i + 1}\`, {
    x: 50,
    y: 750,
    size: 24,
    color: rgb(0, 0, 0)
  });

  // æ·»åŠ é¡µè„š
  page.drawText(\`Page \${i + 1} of 5\`, {
    x: 270,
    y: 30,
    size: 12,
    color: rgb(0.5, 0.5, 0.5)
  });
}

const pdfBytes = await pdfDoc.save();
// ä¸‹è½½PDF</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>6. Print.js å’Œ vue3-print-nb CSSåˆ†é¡µ</h2>
          <button @click="printWithCSS" class="btn btn-info">âš¡ CSSåˆ†é¡µæ‰“å°</button>

          <div id="print-css-content" class="demo-content print-demo">
            <div class="print-page">
              <h3>1 - Print.js CSS</h3>
              <p>Print.jsCSSã€‚</p>
              <p>Print.jsã€‚</p>
              <p>CSS @media printï¼š</p>
              <ul>
                <li>API</li>
                <li>(~10KB)</li>
                <li></li>
              </ul>
            </div>

            <div class="print-page page-break-before">
              <h3>2 - CSS</h3>
              <p>.page-break-beforeã€‚</p>
              <p>CSSï¼š</p>
              <pre><code>.page-break-before &lbrace;
  page-break-before: always;
  break-before: page;
&rbrace;</code></pre>
            </div>

            <div class="print-page page-break-before">
              <h3>3 - Vue</h3>
              <p>vue3-print-nbVueï¼š</p>
              <pre><code>&lt;div v-print="printConfig"&gt;

&lt;/div&gt;</code></pre>
              <p>CSSã€‚</p>
            </div>
          </div>

          <div class="code-block">
            <h4>Print.js CSSåˆ†é¡µ</h4>
            <pre><code>import printJS from 'print-js';

// Print.js ä½¿ç”¨CSSæ§åˆ¶åˆ†é¡µ
printJS({
  printable: 'printable-content',
  type: 'html',
  targetStyles: ['*'],
  style: \`
    @media print {
      .page-break {
        page-break-after: always;
        break-after: page;
      }
    }
  \`
});</code></pre>
          </div>

          <div class="code-block">
            <h4>vue3-print-nb æŒ‡ä»¤åˆ†é¡µ</h4>
            <pre><code>// Vueæ¨¡æ¿ä¸­
&lt;div v-print="printObj"&gt;
  &lt;div class="page"&gt;ç¬¬ä¸€é¡µ&lt;/div&gt;
  &lt;div class="page-break"&gt;&lt;/div&gt;
  &lt;div class="page"&gt;ç¬¬äºŒé¡µ&lt;/div&gt;
&lt;/div&gt;

// CSS
&lt;style&gt;
@media print {
  .page-break {
    page-break-after: always;
  }
}
&lt;/style&gt;</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>7. print-html-element ç®€å•åˆ†é¡µ</h2>
          <button @click="printElementPaging" class="btn btn-secondary">ğŸ¯ å…ƒç´ æ‰“å°åˆ†é¡µ</button>

          <div id="print-element-content" class="demo-content print-demo">
            <div class="print-section">
              <h3>ç¬¬1èŠ‚ - è¶…è½»é‡çº§</h3>
              <p>print-html-element æ˜¯æœ€å°çš„æ‰“å°åº“ï¼Œä»…æœ‰ 5KBï¼</p>
              <p>å®ƒç›´æ¥æ‰“å° DOM å…ƒç´ ï¼Œæ— éœ€ä»»ä½•è½¬æ¢ã€‚</p>
              <div class="highlight-box">
                <strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong>
                <ul>
                  <li>ä½“ç§¯æœ€å° (5KB)</li>
                  <li>æ€§èƒ½æœ€å¿«</li>
                  <li>ç›´æ¥ DOM æ‰“å°</li>
                  <li>æ”¯æŒ CSS åˆ†é¡µ</li>
                </ul>
              </div>
            </div>

            <div class="print-section page-break-before">
              <h3>ç¬¬2èŠ‚ - æµè§ˆå™¨åŸç”Ÿ</h3>
              <p>è¿™ä¸ªåº“åˆ©ç”¨æµè§ˆå™¨çš„åŸç”Ÿæ‰“å°å¯¹è¯æ¡†ã€‚</p>
              <p>åˆ†é¡µå®Œå…¨ç”± CSS æ§åˆ¶ï¼š</p>
              <div class="code-sample">
                <code> .page-break-before &lbrace; page-break-before: always; &rbrace; </code>
              </div>
            </div>

            <div class="print-section page-break-before">
              <h3>ç¬¬3èŠ‚ - ç®€å•ä½¿ç”¨</h3>
              <p>åªéœ€ä¸€è¡Œä»£ç å³å¯æ‰“å°ä»»æ„å…ƒç´ ï¼š</p>
              <div class="code-sample">
                <code>printElement(document.getElementById('myElement'));</code>
              </div>
              <p>éå¸¸é€‚åˆç®€å•çš„æ‰“å°éœ€æ±‚ï¼Œæ— éœ€ç”ŸæˆPDFã€‚</p>
            </div>
          </div>

          <div class="code-block">
            <h4>print-html-element åˆ†é¡µè¯´æ˜</h4>
            <pre><code>import printElement from 'print-html-element';

// print-html-element ä¾èµ–æµè§ˆå™¨åŸç”Ÿæ‰“å°å’ŒCSS
// åˆ†é¡µæ§åˆ¶é€šè¿‡ CSS å®ç°
const element = document.getElementById('content');
printElement(element);

// CSS åˆ†é¡µæ ·å¼
/*
.page {
  page-break-after: always;
  break-after: page;
}

.avoid-break {
  page-break-inside: avoid;
  break-inside: avoid;
}
*/</code></pre>
          </div>
        </div>

        <div class="section">
          <h2>8. åˆ†é¡µæœ€ä½³å®è·µ</h2>

          <div class="best-practices">
            <div class="practice-card">
              <h3>ğŸ¯ é¿å…å­¤è¡Œ</h3>
              <p>ä½¿ç”¨ page-break-inside: avoid é˜²æ­¢å…ƒç´ è¢«åˆ†é¡µæ‰“æ–­</p>
              <pre><code>.keep-together {
  page-break-inside: avoid;
  break-inside: avoid;
}</code></pre>
            </div>

            <div class="practice-card">
              <h3>ğŸ“ è®¡ç®—é¡µé¢é«˜åº¦</h3>
              <p>ç²¾ç¡®æ§åˆ¶å†…å®¹ï¼Œé¿å…æº¢å‡º</p>
              <pre><code>const pageHeight = 297; // A4 é«˜åº¦ (mm)
const margin = 20;
const usableHeight = pageHeight - 2 * margin;</code></pre>
            </div>

            <div class="practice-card">
              <h3>ğŸ“‘ é¡µçœ‰é¡µè„š</h3>
              <p>ä¸ºæ¯é¡µæ·»åŠ å›ºå®šçš„é¡µçœ‰å’Œé¡µè„š</p>
              <pre><code>@media print {
  @page {
    margin-top: 2cm;
    margin-bottom: 2cm;
  }

  .page-header {
    position: fixed;
    top: 0;
  }

  .page-footer {
    position: fixed;
    bottom: 0;
  }
}</code></pre>
            </div>

            <div class="practice-card">
              <h3>ğŸ”¢ åŠ¨æ€é¡µç </h3>
              <p>ä½¿ç”¨ CSS è®¡æ•°å™¨æˆ– JavaScript æ·»åŠ é¡µç </p>
              <pre><code>@media print {
  @page {
    @bottom-center {
      content: "Page " counter(page) " of " counter(pages);
    }
  }
}</code></pre>
            </div>

            <div class="practice-card">
              <h3>ğŸ“Š è¡¨æ ¼åˆ†é¡µ</h3>
              <p>ç¡®ä¿è¡¨å¤´åœ¨æ¯é¡µé‡å¤æ˜¾ç¤º</p>
              <pre><code>table {
  page-break-inside: auto;
}

thead {
  display: table-header-group;
}

tbody {
  display: table-row-group;
}

tfoot {
  display: table-footer-group;
}</code></pre>
            </div>

            <div class="practice-card">
              <h3>ğŸ–¼ï¸ å›¾ç‰‡å¤„ç†</h3>
              <p>é¿å…å›¾ç‰‡è¢«åˆ†é¡µæ‰“æ–­</p>
              <pre><code>img {
  page-break-inside: avoid;
  break-inside: avoid;
  max-width: 100%;
}</code></pre>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>9. å¸¸è§åˆ†é¡µé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>

          <div class="problems-grid">
            <div class="problem-card">
              <h3>â“ é—®é¢˜ï¼šå†…å®¹è¢«æ„å¤–æˆªæ–­</h3>
              <p><strong>è§£å†³ï¼š</strong></p>
              <ul>
                <li>ä½¿ç”¨ page-break-inside: avoid</li>
                <li>æ£€æŸ¥å…ƒç´ é«˜åº¦æ˜¯å¦è¶…è¿‡é¡µé¢é«˜åº¦</li>
                <li>è°ƒæ•´è¾¹è·å’Œå­—ä½“å¤§å°</li>
              </ul>
            </div>

            <div class="problem-card">
              <h3>â“ é—®é¢˜ï¼šåˆ†é¡µä½ç½®ä¸å‡†ç¡®</h3>
              <p><strong>è§£å†³ï¼š</strong></p>
              <ul>
                <li>ä½¿ç”¨ç»å¯¹å®šä½å¯èƒ½å¯¼è‡´é—®é¢˜</li>
                <li>é¿å…ä½¿ç”¨æµ®åŠ¨å¸ƒå±€</li>
                <li>æµ‹è¯•ä¸åŒæµè§ˆå™¨çš„è¡¨ç°</li>
              </ul>
            </div>

            <div class="problem-card">
              <h3>â“ é—®é¢˜ï¼šé¡µçœ‰é¡µè„šä¸æ˜¾ç¤º</h3>
              <p><strong>è§£å†³ï¼š</strong></p>
              <ul>
                <li>æ£€æŸ¥ @page è§„åˆ™å…¼å®¹æ€§</li>
                <li>ä½¿ç”¨å›ºå®šå®šä½æ›¿ä»£æ–¹æ¡ˆ</li>
                <li>è€ƒè™‘ä½¿ç”¨ PDF åº“ç›´æ¥ç”Ÿæˆ</li>
              </ul>
            </div>

            <div class="problem-card">
              <h3>â“ é—®é¢˜ï¼šè·¨æµè§ˆå™¨å·®å¼‚</h3>
              <p><strong>è§£å†³ï¼š</strong></p>
              <ul>
                <li>æµ‹è¯•ä¸»æµæµè§ˆå™¨</li>
                <li>ä½¿ç”¨æ ‡å‡† CSS å±æ€§</li>
                <li>æä¾› PDF ä¸‹è½½å¤‡é€‰æ–¹æ¡ˆ</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>10. åˆ†é¡µæ§åˆ¶å¯¹æ¯”æ€»ç»“</h2>

          <div class="comparison-table">
            <table>
              <thead>
                <tr>
                  <th>æ–¹æ¡ˆ</th>
                  <th>ç²¾ç¡®åº¦</th>
                  <th>çµæ´»æ€§</th>
                  <th>æ˜“ç”¨æ€§</th>
                  <th>å…¼å®¹æ€§</th>
                  <th>æ¨èåº¦</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>CSS åˆ†é¡µ</strong></td>
                  <td>â­â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>jsPDF</strong></td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>pdfmake</strong></td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>html2pdf</strong></td>
                  <td>â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>PDF-LIB</strong></td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>vue3-print-nb</strong></td>
                  <td>â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>Print.js</strong></td>
                  <td>â­â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­â­</td>
                </tr>
                <tr>
                  <td><strong>print-html-element</strong></td>
                  <td>â­â­</td>
                  <td>â­â­â­â­</td>
                  <td>â­â­</td>
                  <td>â­â­â­</td>
                  <td>â­â­</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import { jsPDF } from 'jspdf'
import pdfMake from 'pdfmake/build/pdfmake'
import * as pdfFonts from 'pdfmake/build/vfs_fonts'

// @ts-ignore
pdfMake.vfs = pdfFonts.pdfMake?.vfs || pdfFonts

const printCSSPaging = () => {
  const element = document.getElementById('css-paging')
  if (element) {
    const printWindow = window.open('', '', 'width=800,height=600')
    if (printWindow) {
      printWindow.document.write(`
        <html>
          <head>
            <title>CSSåˆ†é¡µæ¼”ç¤º</title>
            <style>
              body {
                font-family: 'Microsoft YaHei', Arial, sans-serif;
                padding: 20px;
              }
              .page {
                background: white;
                padding: 2rem;
                margin-bottom: 1rem;
                border: 1px solid #e2e8f0;
                border-radius: 4px;
              }
              .page-break-after {
                page-break-after: always;
                break-after: page;
              }
              @media print {
                body {
                  padding: 0;
                }
                .page {
                  border: none;
                  margin: 0;
                  padding: 2rem;
                }
                .page-break-after {
                  page-break-after: always;
                  break-after: page;
                }
              }
            </style>
          </head>
          <body>
            ${element.innerHTML}
          </body>
        </html>
      `)
      printWindow.document.close()
      printWindow.focus()
      setTimeout(() => {
        printWindow.print()
        printWindow.close()
      }, 250)
    }
  }
}

const generateJsPDFPaging = async () => {
  const doc = new jsPDF()
  const pageHeight = doc.internal.pageSize.height
  const pageWidth = doc.internal.pageSize.width
  let yPosition = 20

  // ç¬¬ä¸€é¡µï¼šå±•ç¤ºç²¾ç¡®æ§åˆ¶çš„ä¼˜åŠ¿
  doc.setFontSize(18)
  doc.text('jsPDF: Pixel-Perfect Control', pageWidth / 2, yPosition, { align: 'center' })
  yPosition += 15

  doc.setFontSize(12)
  doc.setTextColor(0, 128, 0)
  doc.text('Advantage Demo: Exact Position Control', 20, yPosition)
  yPosition += 10

  doc.setTextColor(0, 0, 0)
  doc.setFontSize(10)
  doc.text(
    `Y Position: ${yPosition.toFixed(1)}mm - This text is at EXACTLY this position`,
    20,
    yPosition,
  )
  yPosition += 15

  doc.text(`Y Position: ${yPosition.toFixed(1)}mm - We control every pixel`, 20, yPosition)
  yPosition += 15

  doc.text(`Y Position: ${yPosition.toFixed(1)}mm - No browser variance`, 20, yPosition)
  yPosition += 20

  // ç»˜åˆ¶è¡¨æ ¼æ¼”ç¤ºç²¾ç¡®å¯¹é½
  doc.setFontSize(11)
  doc.text('Table with Exact Alignment:', 20, yPosition)
  yPosition += 8

  // è¡¨æ ¼çº¿æ¡ - ç²¾ç¡®å®šä½
  doc.line(20, yPosition, 190, yPosition) // é¡¶éƒ¨çº¿
  yPosition += 5
  doc.text('Item', 25, yPosition)
  doc.text('Price', 150, yPosition)
  yPosition += 3
  doc.line(20, yPosition, 190, yPosition) // åˆ†éš”çº¿
  yPosition += 5

  for (let i = 1; i <= 5; i++) {
    doc.text(`Product ${i}`, 25, yPosition)
    doc.text(`$${i * 10}.00`, 150, yPosition)
    yPosition += 6
  }
  doc.line(20, yPosition, 190, yPosition) // åº•éƒ¨çº¿
  yPosition += 15

  // å±•ç¤ºè‡ªåŠ¨åˆ†é¡µåŠŸèƒ½
  doc.setFontSize(12)
  doc.setTextColor(0, 128, 0)
  doc.text('Advantage: Auto Page Break Control', 20, yPosition)
  yPosition += 10

  doc.setTextColor(0, 0, 0)
  doc.setFontSize(10)

  // æ·»åŠ å¤§é‡å†…å®¹æ¼”ç¤ºè‡ªåŠ¨åˆ†é¡µ
  for (let i = 0; i < 60; i++) {
    // æ£€æŸ¥æ˜¯å¦éœ€è¦æ–°é¡µï¼ˆå…³é”®åˆ†é¡µé€»è¾‘ï¼‰
    if (yPosition > pageHeight - 30) {
      doc.addPage()
      yPosition = 20

      // åœ¨æ–°é¡µé¢æ·»åŠ é¡µçœ‰
      doc.setFontSize(12)
      doc.setTextColor(128, 128, 128)
      doc.text(`Continued from previous page...`, 20, yPosition)
      yPosition += 10
      doc.setTextColor(0, 0, 0)
      doc.setFontSize(10)
    }

    doc.text(
      `Line ${i + 1} at Y=${yPosition.toFixed(1)}mm - Precise control guaranteed`,
      20,
      yPosition,
    )
    yPosition += 7
  }

  // æ·»åŠ é¡µç åˆ°æ‰€æœ‰é¡µé¢
  // @ts-ignore - getNumberOfPages exists but type definition is incomplete
  const totalPages = doc.internal.getNumberOfPages()
  for (let i = 1; i <= totalPages; i++) {
    doc.setPage(i)
    doc.setFontSize(9)
    doc.text(`${i} / ${totalPages}`, pageWidth / 2, pageHeight - 10, {
      align: 'center',
    })
  }

  doc.save('jspdf-paging.pdf')
}

const generatePdfmakePaging = () => {
  const docDefinition: any = {
    pageSize: 'A4',
    pageMargins: [40, 60, 40, 60],
    header: (currentPage: number, pageCount: number) => ({
      text: 'pdfmake Declarative Pagination Demo',
      alignment: 'center',
      margin: [0, 20, 0, 0],
      fontSize: 10,
      color: '#666',
    }),
    footer: (currentPage: number, pageCount: number) => ({
      text: `Page ${currentPage} of ${pageCount}`,
      alignment: 'center',
      margin: [0, 0, 0, 20],
    }),
    content: [
      { text: 'Advantage: Built-in Header & Footer', style: 'header' },
      {
        text: 'No manual calculation needed! pdfmake automatically adds header and footer to every page.',
      },
      { text: 'Just define them once in the document definition.', margin: [0, 5, 0, 20] },

      { text: 'Advantage: Declarative Page Breaks', style: 'header', pageBreak: 'before' },
      {
        text: 'Simply add pageBreak: "before" or "after" property. ',
      },
      {
        text: 'No Y-position calculation required!',
        bold: true,
        color: '#008800',
        margin: [0, 5, 0, 20],
      },

      { text: 'Advantage: Auto Table Pagination', style: 'header', pageBreak: 'before' },
      {
        text: 'Large tables automatically split across pages. Table headers repeat on each page!',
        margin: [0, 0, 0, 10],
      },
      {
        table: {
          headerRows: 1,
          widths: ['*', 'auto', 'auto', 'auto'],
          body: [
            [
              { text: 'Product Name', style: 'tableHeader' },
              { text: 'Qty', style: 'tableHeader' },
              { text: 'Price', style: 'tableHeader' },
              { text: 'Total', style: 'tableHeader' },
            ],
            ...Array.from({ length: 50 }, (_, i) => [
              `Product Item #${i + 1}`,
              `${i + 1}`,
              `$${(i + 1) * 10}.00`,
              `$${(i + 1) * (i + 1) * 10}.00`,
            ]),
          ],
        },
        layout: {
          fillColor: (rowIndex: number) =>
            rowIndex === 0 ? '#667eea' : rowIndex % 2 === 0 ? '#f7fafc' : null,
        },
      },

      {
        text: 'Summary',
        style: 'header',
        pageBreak: 'before',
      },
      {
        text: 'pdfmake Advantages Demonstrated:',
        bold: true,
        margin: [0, 0, 0, 10],
      },
      {
        ul: [
          'Automatic header/footer on all pages',
          'Simple pageBreak properties',
          'Table auto-pagination with header repetition',
          'No manual Y-position tracking needed',
          'Declarative, readable code',
        ],
      },
    ],
    styles: {
      header: {
        fontSize: 16,
        bold: true,
        margin: [0, 0, 0, 10],
        color: '#667eea',
      },
      tableHeader: {
        bold: true,
        color: '#ffffff',
      },
    },
  }

  pdfMake.createPdf(docDefinition).download('pdfmake-paging.pdf')
}

const generateHtml2PdfPaging = async () => {
  // åŠ¨æ€å¯¼å…¥ html2pdf
  const html2pdf = (await import('html2pdf.js')).default

  // åˆ›å»ºä¸€ä¸ªåŒ…å«æ˜ç¡®åˆ†é¡µçš„ä¸´æ—¶å…ƒç´ 
  const tempDiv = document.createElement('div')
  tempDiv.innerHTML = `
    <div style="padding: 20px; font-family: 'Microsoft YaHei', Arial, sans-serif;">
      <h1 style="text-align: center; color: #667eea;">html2pdf.js åˆ†é¡µæ¼”ç¤º</h1>
      <h2>ç¬¬ä¸€é¡µ - ç®€ä»‹</h2>
      <p>html2pdf.js å¯ä»¥å°† HTML å†…å®¹è½¬æ¢ä¸º PDF æ–‡æ¡£ã€‚</p>
      <p>å®ƒç»“åˆäº† html2canvas å’Œ jsPDF çš„åŠŸèƒ½ã€‚</p>
      <ul>
        <li>æ”¯æŒå¤æ‚çš„ HTML å¸ƒå±€</li>
        <li>ä¿ç•™ CSS æ ·å¼</li>
        <li>æ”¯æŒä¸­æ–‡å­—ç¬¦</li>
      </ul>
      <div class="html2canvas-break"></div>

      <h2>ç¬¬äºŒé¡µ - åˆ†é¡µæ§åˆ¶</h2>
      <p>html2pdf.js é€šè¿‡ CSS æ§åˆ¶åˆ†é¡µï¼š</p>
      <ul>
        <li>ä½¿ç”¨ page-break-before/after å±æ€§</li>
        <li>é¿å…å…ƒç´ è¢«æˆªæ–­ï¼šavoid-all</li>
        <li>é…ç½®åˆ†é¡µæ¨¡å¼ï¼šmode: ['css', 'legacy']</li>
      </ul>
      <div class="html2canvas-break"></div>

      <h2>ç¬¬ä¸‰é¡µ - ä½¿ç”¨æ–¹æ³•</h2>
      <p>éå¸¸ç®€å•çš„ API è°ƒç”¨ï¼š</p>
      <pre style="background: #f4f4f4; padding: 10px; border-radius: 4px;">html2pdf()
  .set(options)
  .from(element)
  .save()</pre>
      <p>è‡ªåŠ¨å¤„ç† HTML å…ƒç´ çš„è½¬æ¢å’Œåˆ†é¡µã€‚</p>
    </div>
  `
  document.body.appendChild(tempDiv)

  const options = {
    margin: 15,
    filename: 'html2pdf-paging.pdf',
    image: { type: 'jpeg', quality: 0.95 },
    html2canvas: {
      scale: 2,
      useCORS: true,
    },
    jsPDF: {
      unit: 'mm',
      format: 'a4',
      orientation: 'portrait',
    },
    pagebreak: {
      mode: ['css', 'legacy'],
      before: '.html2canvas-break',
    },
  }

  await html2pdf().set(options).from(tempDiv).save()

  // æ¸…ç†ä¸´æ—¶å…ƒç´ 
  document.body.removeChild(tempDiv)
}

const generatePdfLibPaging = async () => {
  const { PDFDocument, rgb, StandardFonts } = await import('pdf-lib')

  const pdfDoc = await PDFDocument.create()

  // ä½¿ç”¨æ ‡å‡†å­—ä½“
  const font = await pdfDoc.embedFont(StandardFonts.Helvetica)
  const boldFont = await pdfDoc.embedFont(StandardFonts.HelveticaBold)

  // åˆ›å»º5é¡µç¤ºä¾‹
  for (let i = 0; i < 5; i++) {
    const page = pdfDoc.addPage([600, 800])

    // é¡µé¢æ ‡é¢˜
    page.drawText(`Page ${i + 1}`, {
      x: 50,
      y: 750,
      size: 24,
      font: boldFont,
      color: rgb(0.4, 0.49, 0.92),
    })

    // é¡µé¢å†…å®¹
    page.drawText(`This is page ${i + 1} content`, {
      x: 50,
      y: 700,
      size: 14,
      font: font,
      color: rgb(0, 0, 0),
    })

    page.drawText('PDF-LIB Advanced Features:', {
      x: 50,
      y: 670,
      size: 12,
      font: font,
      color: rgb(0.2, 0.2, 0.2),
    })

    page.drawText('- Add/Remove pages dynamically', {
      x: 70,
      y: 650,
      size: 11,
      font: font,
      color: rgb(0.3, 0.3, 0.3),
    })

    page.drawText('- Modify existing PDF files', {
      x: 70,
      y: 635,
      size: 11,
      font: font,
      color: rgb(0.3, 0.3, 0.3),
    })

    page.drawText('- Merge multiple PDFs', {
      x: 70,
      y: 620,
      size: 11,
      font: font,
      color: rgb(0.3, 0.3, 0.3),
    })

    page.drawText('- Fill PDF forms programmatically', {
      x: 70,
      y: 605,
      size: 11,
      font: font,
      color: rgb(0.3, 0.3, 0.3),
    })

    // é¡µè„š
    page.drawText(`Page ${i + 1} of 5`, {
      x: 240,
      y: 30,
      size: 12,
      font: font,
      color: rgb(0.5, 0.5, 0.5),
    })
  }

  const pdfBytes = await pdfDoc.save()

  // ä¸‹è½½PDF
  const blob = new Blob([pdfBytes], { type: 'application/pdf' })
  const url = URL.createObjectURL(blob)
  const link = document.createElement('a')
  link.href = url
  link.download = 'pdf-lib-paging.pdf'
  link.click()
  URL.revokeObjectURL(url)
}

const printWithCSS = () => {
  // ä½¿ç”¨Print.jsæ‰“å°ç‰¹å®šå…ƒç´ 
  const element = document.getElementById('print-css-content')
  if (element) {
    // åˆ›å»ºä¸´æ—¶çª—å£æ‰“å°
    const printWindow = window.open('', '', 'width=800,height=600')
    if (printWindow) {
      printWindow.document.write(`
        <html>
          <head>
            <title>Print.js CSS Pagination</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                padding: 20px;
              }
              .print-page {
                padding: 20px;
                min-height: 400px;
              }
              .page-break-before {
                page-break-before: always;
                break-before: page;
              }
              h3 {
                color: #667eea;
                border-bottom: 2px solid #667eea;
                padding-bottom: 10px;
              }
              pre {
                background: #f4f4f4;
                padding: 10px;
                border-radius: 4px;
              }
              @media print {
                .page-break-before {
                  page-break-before: always;
                  break-before: page;
                }
              }
            </style>
          </head>
          <body>
            ${element.innerHTML}
          </body>
        </html>
      `)
      printWindow.document.close()
      printWindow.focus()
      setTimeout(() => {
        printWindow.print()
        printWindow.close()
      }, 250)
    }
  }
}

const printElementPaging = async () => {
  try {
    const module = await import('print-html-element')
    const printElement = module.default || module

    const element = document.getElementById('print-element-content')
    if (element && typeof printElement === 'function') {
      printElement(element)
    } else {
      // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨ä¸´æ—¶çª—å£
      const printWindow = window.open('', '', 'width=800,height=600')
      if (printWindow && element) {
        printWindow.document.write(`
          <html>
            <head>
              <title>print-html-element Pagination</title>
              <style>
                body {
                  font-family: Arial, sans-serif;
                  padding: 20px;
                }
                .print-section {
                  padding: 20px;
                  min-height: 350px;
                }
                .page-break-before {
                  page-break-before: always;
                  break-before: page;
                }
                h3 {
                  color: #f093fb;
                  border-bottom: 2px solid #f093fb;
                  padding-bottom: 10px;
                }
                .highlight-box {
                  background: #f0f7ff;
                  padding: 15px;
                  border-radius: 8px;
                  margin: 10px 0;
                }
                .code-sample {
                  background: #2d3748;
                  color: #fff;
                  padding: 15px;
                  border-radius: 4px;
                  margin: 10px 0;
                }
                @media print {
                  .page-break-before {
                    page-break-before: always;
                    break-before: page;
                  }
                }
              </style>
            </head>
            <body>
              ${element.innerHTML}
            </body>
          </html>
        `)
        printWindow.document.close()
        printWindow.focus()
        setTimeout(() => {
          printWindow.print()
          printWindow.close()
        }, 250)
      }
    }
  } catch (error) {
    console.error('Failed to load print-html-element:', error)
    alert('Failed to load print-html-element library. Using fallback print method.')
  }
}
</script>

<style scoped>
.demo-page {
  max-width: 1600px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #e2e8f0;
}

.page-header h1 {
  color: #2d3748;
}

.back-link {
  color: #667eea;
  text-decoration: none;
  font-weight: 500;
}

.back-link:hover {
  text-decoration: underline;
}

.content-grid {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 2rem;
}

.info-panel {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
  max-height: calc(100vh - 4rem);
  overflow-y: auto;
  position: sticky;
  top: 2rem;
}

.info-panel h2 {
  color: #667eea;
  margin-bottom: 1.5rem;
}

.info-section {
  margin-bottom: 1.5rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid #e2e8f0;
}

.info-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.info-section h3 {
  color: #2d3748;
  font-size: 1rem;
  margin-bottom: 0.5rem;
}

.info-section ul {
  list-style: none;
  padding: 0;
  margin-top: 0.5rem;
}

.info-section li {
  padding: 0.25rem 0;
  font-size: 0.9rem;
}

.rating {
  color: #667eea;
  font-weight: 600;
  font-size: 0.9rem;
}

.demo-panel {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 2rem;
}

.section {
  margin-bottom: 3rem;
  padding-bottom: 3rem;
  border-bottom: 2px solid #f7fafc;
}

.section:last-child {
  border-bottom: none;
}

.section h2 {
  color: #2d3748;
  margin-bottom: 1.5rem;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-bottom: 1.5rem;
}

.btn-primary {
  background: #667eea;
  color: white;
}

.btn-primary:hover {
  background: #5568d3;
}

.btn-secondary {
  background: #48bb78;
  color: white;
}

.btn-secondary:hover {
  background: #38a169;
}

.btn-info {
  background: #4299e1;
  color: white;
}

.btn-info:hover {
  background: #3182ce;
}

.demo-content {
  background: #f7fafc;
  border: 2px dashed #cbd5e0;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.print-demo {
  background: white;
  border: 2px solid #667eea;
  padding: 0;
}

.print-page,
.print-section {
  background: white;
  padding: 2rem;
  margin: 0;
  border-bottom: 2px dashed #e2e8f0;
  min-height: 300px;
}

.print-page:last-child,
.print-section:last-child {
  border-bottom: none;
}

.print-page h3,
.print-section h3 {
  color: #667eea;
  border-bottom: 2px solid #667eea;
  padding-bottom: 10px;
  margin-top: 0;
}

.highlight-box {
  background: #f0f7ff;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
  border-left: 4px solid #667eea;
}

.code-sample {
  background: #2d3748;
  color: #48bb78;
  padding: 15px;
  border-radius: 4px;
  margin: 15px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.code-sample code {
  color: #48bb78;
  white-space: pre;
}

.page {
  background: white;
  padding: 2rem;
  margin-bottom: 1rem;
  border: 1px solid #e2e8f0;
  border-radius: 4px;
}

.page h2 {
  color: #667eea;
  margin-bottom: 0.75rem;
}

.code-block {
  background: #f7fafc;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
}

.code-block h4 {
  color: #4a5568;
  margin-bottom: 0.75rem;
}

.code-block pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
}

.code-block code {
  font-family: 'Courier New', monospace;
  font-size: 0.9rem;
  line-height: 1.6;
}

.best-practices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
}

.practice-card {
  background: #f7fafc;
  border-left: 4px solid #667eea;
  border-radius: 4px;
  padding: 1.5rem;
}

.practice-card h3 {
  color: #667eea;
  margin-bottom: 0.75rem;
}

.practice-card p {
  color: #4a5568;
  margin-bottom: 1rem;
}

.practice-card pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  font-size: 0.85rem;
}

.problems-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.problem-card {
  background: #fffbeb;
  border: 1px solid #fbbf24;
  border-radius: 8px;
  padding: 1.5rem;
}

.problem-card h3 {
  color: #92400e;
  margin-bottom: 0.75rem;
}

.problem-card p {
  font-weight: 600;
  color: #4a5568;
  margin-bottom: 0.5rem;
}

.problem-card ul {
  list-style: none;
  padding: 0;
}

.problem-card li {
  padding: 0.25rem 0;
  color: #4a5568;
  font-size: 0.9rem;
}

.comparison-table {
  overflow-x: auto;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  margin-top: 1rem;
}

table {
  width: 100%;
  border-collapse: collapse;
}

th,
td {
  padding: 1rem;
  text-align: left;
  border-bottom: 1px solid #e2e8f0;
}

th {
  background: #f7fafc;
  color: #2d3748;
  font-weight: 600;
}

tbody tr:hover {
  background: #f7fafc;
}

/* æ‰“å°æ ·å¼ */
@media print {
  .page-header,
  .info-panel,
  .btn,
  .code-block {
    display: none !important;
  }

  .content-grid {
    grid-template-columns: 1fr;
  }

  .page-break-after {
    page-break-after: always;
    break-after: page;
  }
}
</style>
