<template>
  <div class="demo-page">
    <header class="page-header">
      <h1>ğŸ¯ vue3-print-nb - Vue 3 æ‰“å°æ’ä»¶</h1>
      <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
    </header>

    <div class="content-grid">
      <aside class="info-panel">
        <h2>æŠ€æœ¯è¯¦æƒ…</h2>
        <div class="info-section">
          <h3>ğŸ“¦ ä¾èµ–</h3>
          <p><strong>vue3-print-nb</strong></p>
          <p>npm install vue3-print-nb</p>
        </div>

        <div class="info-section">
          <h3>ğŸ¯ å…¼å®¹æ€§</h3>
          <ul>
            <li>âœ… Vue 3 ä¸“ç”¨</li>
            <li>âœ… Chrome 60+</li>
            <li>âœ… Firefox 55+</li>
            <li>âœ… Safari 11+</li>
            <li>âœ… Edge 79+</li>
          </ul>
          <p class="rating">è¯„åˆ†: â­â­â­â­ (85%)</p>
        </div>

        <div class="info-section">
          <h3>âš¡ æ€§èƒ½</h3>
          <ul>
            <li>âœ… è½»é‡çº§</li>
            <li>âœ… æŒ‡ä»¤å¼è°ƒç”¨</li>
            <li>âœ… Vue é›†æˆå¥½</li>
          </ul>
          <p class="rating">è¯„åˆ†: â­â­â­â­</p>
        </div>

        <div class="info-section">
          <h3>ğŸ“‘ åˆ†é¡µæ§åˆ¶</h3>
          <ul>
            <li>âœ… CSS åˆ†é¡µ</li>
            <li>âš ï¸ ä¾èµ–æµè§ˆå™¨</li>
          </ul>
          <p class="rating">è¯„åˆ†: â­â­â­</p>
        </div>

        <div class="info-section">
          <h3>ğŸ“ æ–‡ä»¶å¤§å°</h3>
          <p class="highlight">~8 KB</p>
        </div>

        <div class="info-section">
          <h3>âœ¨ ä¼˜åŠ¿</h3>
          <ul>
            <li>Vue ç”Ÿæ€é›†æˆ</li>
            <li>æŒ‡ä»¤å¼ä½¿ç”¨ç®€å•</li>
            <li>æ”¯æŒç»„ä»¶æ‰“å°</li>
            <li>è½»é‡çº§</li>
          </ul>
        </div>

        <div class="info-section">
          <h3>âš ï¸ åŠ£åŠ¿</h3>
          <ul>
            <li>ä»…é™ Vue 3</li>
            <li>åŠŸèƒ½ç›¸å¯¹ç®€å•</li>
            <li>ä¾èµ–æµè§ˆå™¨æ‰“å°</li>
          </ul>
        </div>
      </aside>

      <main class="demo-panel">
        <div class="controls">
          <button v-print="printConfig1" class="btn btn-primary">ğŸ–¨ï¸ ä½¿ç”¨æŒ‡ä»¤æ‰“å°</button>
          <button @click="handlePrint" class="btn btn-secondary">ğŸ“„ ç¼–ç¨‹å¼æ‰“å°</button>
          <button v-print="printConfigCustom" class="btn btn-info">ğŸ¨ è‡ªå®šä¹‰æ ·å¼æ‰“å°</button>
        </div>

        <div id="print-area" class="print-content">
          <div class="document">
            <h1>vue3-print-nb ä½¿ç”¨æŒ‡å—</h1>
            <p class="meta">{{ currentDate }}</p>

            <h2>ä¸€ã€ç®€ä»‹</h2>
            <p>
              vue3-print-nb æ˜¯ä¸€ä¸ªä¸“ä¸º Vue 3 è®¾è®¡çš„æ‰“å°æ’ä»¶ï¼Œæä¾›äº†ç®€å•æ˜“ç”¨çš„æŒ‡ä»¤å¼ APIï¼Œ
              å¯ä»¥è½»æ¾å®ç°é¡µé¢å†…å®¹çš„æ‰“å°åŠŸèƒ½ã€‚
            </p>

            <h2>äºŒã€æ ¸å¿ƒç‰¹æ€§</h2>
            <div class="feature-grid">
              <div class="feature-card">
                <h3>ğŸ¯ æŒ‡ä»¤å¼è°ƒç”¨</h3>
                <p>ä½¿ç”¨ v-print æŒ‡ä»¤å³å¯å®ç°æ‰“å°</p>
              </div>
              <div class="feature-card">
                <h3>âš™ï¸ çµæ´»é…ç½®</h3>
                <p>æ”¯æŒå¤šç§é…ç½®é€‰é¡¹</p>
              </div>
              <div class="feature-card">
                <h3>ğŸ”§ ç¼–ç¨‹å¼ API</h3>
                <p>ä¹Ÿæ”¯æŒå‡½æ•°è°ƒç”¨æ–¹å¼</p>
              </div>
              <div class="feature-card">
                <h3>ğŸ¨ æ ·å¼æ§åˆ¶</h3>
                <p>å¯è‡ªå®šä¹‰æ‰“å°æ ·å¼</p>
              </div>
            </div>

            <h2>ä¸‰ã€ä½¿ç”¨åœºæ™¯</h2>
            <ul>
              <li>è®¢å•æ‰“å°</li>
              <li>æŠ¥è¡¨æ‰“å°</li>
              <li>å‡­è¯æ‰“å°</li>
              <li>è¡¨å•æ‰“å°</li>
            </ul>

            <h2>å››ã€ä¼˜åŠ¿åˆ†æ</h2>
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>æ–¹é¢</th>
                  <th>è¯´æ˜</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Vue é›†æˆ</td>
                  <td>ä¸ Vue 3 æ— ç¼é›†æˆ</td>
                </tr>
                <tr>
                  <td>æ˜“ç”¨æ€§</td>
                  <td>æŒ‡ä»¤å¼ä½¿ç”¨éå¸¸ç®€å•</td>
                </tr>
                <tr>
                  <td>ä½“ç§¯</td>
                  <td>è½»é‡çº§ï¼Œçº¦ 8KB</td>
                </tr>
                <tr>
                  <td>æ€§èƒ½</td>
                  <td>å¿«é€Ÿï¼Œæ— é¢å¤–å¼€é”€</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="code-examples">
          <h3>ğŸ’» ä»£ç ç¤ºä¾‹</h3>

          <div class="code-block">
            <h4>1. å®‰è£…</h4>
            <pre><code>npm install vue3-print-nb</code></pre>
          </div>

          <div class="code-block">
            <h4>2. å…¨å±€æ³¨å†Œ</h4>
            <pre><code>import { createApp } from 'vue'
import print from 'vue3-print-nb'
import App from './App.vue'

const app = createApp(App)
app.use(print)
app.mount('#app')</code></pre>
          </div>

          <div class="code-block">
            <h4>3. æŒ‡ä»¤å¼ä½¿ç”¨</h4>
            <pre><code>&lt;template&gt;
  &lt;div id="print-content"&gt;
    è¦æ‰“å°çš„å†…å®¹
  &lt;/div&gt;

  &lt;button v-print="'#print-content'"&gt;
    æ‰“å°
  &lt;/button&gt;
&lt;/template&gt;</code></pre>
          </div>

          <div class="code-block">
            <h4>4. é…ç½®é€‰é¡¹</h4>
            <pre><code>&lt;script setup&gt;
const printConfig = {
  id: 'print-content',      // è¦æ‰“å°çš„å…ƒç´  ID
  popTitle: 'æ‰“å°æ ‡é¢˜',      // æ‰“å°é¡µé¢æ ‡é¢˜
  extraHead: '&lt;style&gt;...&lt;/style&gt;', // é¢å¤–çš„ head å†…å®¹
  preview: false,           // æ˜¯å¦æ˜¾ç¤ºé¢„è§ˆ
  previewTitle: 'æ‰“å°é¢„è§ˆ',  // é¢„è§ˆæ ‡é¢˜
  previewPrintBtnLabel: 'æ‰“å°', // é¢„è§ˆæŒ‰é’®æ–‡å­—
  zIndex: 20002,            // z-index
  previewBeforeOpenCallback() {}, // é¢„è§ˆæ‰“å¼€å‰å›è°ƒ
  previewOpenCallback() {},       // é¢„è§ˆæ‰“å¼€åå›è°ƒ
  beforeOpenCallback() {},        // æ‰“å°å‰å›è°ƒ
  openCallback() {},              // æ‰“å°åå›è°ƒ
  closeCallback() {}              // å…³é—­å›è°ƒ
}
&lt;/script&gt;

&lt;template&gt;
  &lt;button v-print="printConfig"&gt;æ‰“å°&lt;/button&gt;
&lt;/template&gt;</code></pre>
          </div>

          <div class="code-block">
            <h4>5. ç¼–ç¨‹å¼è°ƒç”¨</h4>
            <pre><code>&lt;script setup&gt;
import { useCurrentInstance } from 'vue'

const { proxy } = useCurrentInstance()

const handlePrint = () => {
  proxy.$print({
    id: 'print-content',
    popTitle: 'æ‰“å°æ–‡æ¡£'
  })
}
&lt;/script&gt;</code></pre>
          </div>

          <div class="code-block">
            <h4>6. è‡ªå®šä¹‰æ ·å¼</h4>
            <pre><code>const printConfig = {
  id: 'print-content',
  extraHead: \`
    &lt;style&gt;
      @media print {
        body { font-size: 14px; }
        .no-print { display: none !important; }
        .page-break { page-break-after: always; }
      }
    &lt;/style&gt;
  \`
}</code></pre>
          </div>

          <div class="code-block">
            <h4>7. æ‰“å°å‰é¢„è§ˆ</h4>
            <pre><code>const printConfig = {
  id: 'print-content',
  preview: true,
  previewTitle: 'æ‰“å°é¢„è§ˆ',
  previewPrintBtnLabel: 'ç¡®è®¤æ‰“å°'
}</code></pre>
          </div>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, getCurrentInstance } from 'vue'

const currentDate = ref(new Date().toLocaleDateString('zh-CN'))

const printConfig1 = {
  id: 'print-area',
  popTitle: 'vue3-print-nb æ‰“å°ç¤ºä¾‹',
}

const printConfigCustom = {
  id: 'print-area',
  popTitle: 'è‡ªå®šä¹‰æ ·å¼æ‰“å°',
  extraHead: `
    <style>
      @media print {
        body {
          font-family: Arial, sans-serif;
          color: #2d3748;
        }
        h1 {
          color: #667eea;
          border-bottom: 3px solid #667eea;
          padding-bottom: 10px;
        }
        h2 {
          color: #4a5568;
          margin-top: 2rem;
        }
        .feature-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 1rem;
          page-break-inside: avoid;
        }
        .feature-card {
          border: 2px solid #e2e8f0;
          padding: 1rem;
          border-radius: 8px;
        }
        .comparison-table {
          border-collapse: collapse;
          width: 100%;
        }
        .comparison-table th,
        .comparison-table td {
          border: 1px solid #e2e8f0;
          padding: 0.75rem;
        }
        .comparison-table th {
          background: #f7fafc;
        }
      }
    </style>
  `,
}

const handlePrint = () => {
  const instance = getCurrentInstance()
  if (instance?.proxy?.$print) {
    instance.proxy.$print({
      id: 'print-area',
      popTitle: 'ç¼–ç¨‹å¼æ‰“å°',
    })
  } else {
    // å¦‚æœæ’ä»¶æœªæ³¨å†Œï¼Œä½¿ç”¨åŸç”Ÿæ‰“å°
    window.print()
  }
}
</script>

<style scoped>
.demo-page {
  max-width: 1600px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #e2e8f0;
}

.page-header h1 {
  color: #2d3748;
}

.back-link {
  color: #667eea;
  text-decoration: none;
  font-weight: 500;
}

.back-link:hover {
  text-decoration: underline;
}

.content-grid {
  display: grid;
  grid-template-columns: 350px 1fr;
  gap: 2rem;
}

.info-panel {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
  height: fit-content;
  position: sticky;
  top: 2rem;
}

.info-panel h2 {
  color: #667eea;
  margin-bottom: 1.5rem;
}

.info-section {
  margin-bottom: 1.5rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid #e2e8f0;
}

.info-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.info-section h3 {
  color: #2d3748;
  font-size: 1rem;
  margin-bottom: 0.75rem;
}

.info-section ul {
  list-style: none;
  padding: 0;
}

.info-section li {
  padding: 0.25rem 0;
  font-size: 0.9rem;
}

.info-section p {
  margin: 0.5rem 0;
  font-size: 0.9rem;
}

.rating {
  color: #667eea;
  font-weight: 600;
}

.highlight {
  font-size: 1.5rem;
  font-weight: 700;
  color: #48bb78;
}

.demo-panel {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
}

.controls {
  display: flex;
  gap: 1rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 6px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-primary {
  background: #667eea;
  color: white;
}

.btn-primary:hover {
  background: #5568d3;
}

.btn-secondary {
  background: #48bb78;
  color: white;
}

.btn-secondary:hover {
  background: #38a169;
}

.btn-info {
  background: #4299e1;
  color: white;
}

.btn-info:hover {
  background: #3182ce;
}

.print-content {
  background: #f7fafc;
  border: 2px dashed #cbd5e0;
  border-radius: 8px;
  padding: 2rem;
  margin-bottom: 2rem;
}

.document {
  background: white;
  padding: 2rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.document h1 {
  color: #667eea;
  margin-bottom: 0.5rem;
}

.meta {
  color: #718096;
  font-style: italic;
  margin-bottom: 2rem;
}

.document h2 {
  color: #2d3748;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.document p {
  line-height: 1.8;
  color: #4a5568;
  margin-bottom: 1rem;
}

.document ul {
  line-height: 1.8;
  color: #4a5568;
  margin-left: 1.5rem;
}

.feature-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin: 1rem 0;
}

.feature-card {
  border: 1px solid #e2e8f0;
  padding: 1rem;
  border-radius: 8px;
  background: #f7fafc;
}

.feature-card h3 {
  color: #667eea;
  font-size: 1rem;
  margin-bottom: 0.5rem;
}

.feature-card p {
  color: #718096;
  font-size: 0.9rem;
  margin: 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
}

.comparison-table th,
.comparison-table td {
  padding: 0.75rem;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.comparison-table th {
  background: #f7fafc;
  font-weight: 600;
  color: #2d3748;
}

.code-examples {
  background: #f7fafc;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 1.5rem;
}

.code-examples h3 {
  color: #2d3748;
  margin-bottom: 1rem;
}

.code-block {
  margin-bottom: 1.5rem;
}

.code-block h4 {
  color: #4a5568;
  margin-bottom: 0.5rem;
}

.code-block pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0;
}

.code-block code {
  font-family: 'Courier New', monospace;
  font-size: 0.9rem;
  line-height: 1.6;
}
</style>
