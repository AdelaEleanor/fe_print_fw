# 前端打印框架调研报告 - 使用说明

## 📋 项目概述

这是一个全面的前端打印框架调研演示项目，包含 **7+ 种主流打印解决方案**的详细对比、性能测试、兼容性分析和实际可运行的代码示例。

## 🚀 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

### 3. 访问应用

打开浏览器访问：**http://localhost:5173/**

## 📂 项目结构

```
fe_print_fw/
├── src/
│   ├── views/                    # 各个框架的演示页面
│   │   ├── HomePage.vue          # 📌 主页 - 框架总览和导航
│   │   ├── NativePrint.vue       # 浏览器原生 window.print()
│   │   ├── PrintJS.vue           # Print.js 轻量级打印库
│   │   ├── VuePrintNb.vue        # vue3-print-nb Vue插件
│   │   ├── JsPDF.vue             # jsPDF PDF生成
│   │   ├── Pdfmake.vue           # pdfmake 声明式PDF
│   │   ├── Html2Canvas.vue       # html2canvas 截图转换
│   │   ├── Html2Pdf.vue          # html2pdf.js 集成方案
│   │   ├── PerformanceTest.vue   # ⚡ 性能对比测试
│   │   ├── Compatibility.vue     # 🌐 浏览器兼容性矩阵
│   │   └── Pagination.vue        # 📄 自定义分页控制
│   ├── router/index.ts           # 路由配置
│   ├── App.vue                   # 根组件
│   └── main.ts                   # 应用入口
└── package.json                  # 依赖管理
```

## 🎯 功能特性

### 1️⃣ 主页 (HomePage)

- **框架卡片导航**：快速跳转到各个演示页面
- **对比表格**：全面对比各框架的特性、性能、兼容性
- **选择矩阵**：根据不同场景推荐最佳方案

### 2️⃣ 浏览器原生打印 (NativePrint)

- ✅ 完全免费，零依赖
- ✅ 打印预览界面
- ✅ CSS `@media print` 样式控制
- 📝 分页控制 (`page-break-before/after`)
- 📝 隐藏/显示元素
- 📝 多页文档示例

### 3️⃣ Print.js

- ✅ 轻量级 (~18KB)
- ✅ HTML 内容打印
- ✅ 图片打印
- ✅ JSON 数据表格打印
- 📝 自定义样式注入
- 📝 打印前后钩子

### 4️⃣ vue3-print-nb

- ✅ Vue 3 专用插件
- ✅ `v-print` 指令
- ✅ 编程式 API
- 📝 局部/全局打印
- 📝 自定义配置

### 5️⃣ jsPDF

- ✅ 强大的 PDF 生成库 (~280KB)
- ✅ 绘图 API (文本、图形、图片)
- ✅ 表格生成
- ✅ 多页文档
- 📝 精确布局控制
- 📝 字体嵌入

### 6️⃣ pdfmake

- ✅ 声明式 PDF 生成 (~650KB)
- ✅ JSON 配置
- ✅ 自动分页
- ✅ 表格、列表、图片
- 📝 页眉页脚
- 📝 水印背景
- 📝 目录生成

### 7️⃣ html2canvas

- ✅ DOM 转 Canvas (~170KB)
- ✅ 截图功能
- ✅ 导出图片
- 📝 高质量渲染
- 📝 跨域图片支持

### 8️⃣ html2pdf.js

- ✅ HTML 直接转 PDF (~100KB + 依赖)
- ✅ 保留样式
- ✅ 自动分页
- 📝 配置灵活

### 9️⃣ 性能测试 (PerformanceTest)

- ⏱️ 初始化时间对比
- ⏱️ 渲染时间对比
- 📊 可视化图表
- 💡 优化建议

### 🔟 兼容性测试 (Compatibility)

- 🌐 主流浏览器支持情况
  - Chrome ✅
  - Firefox ✅
  - Safari ✅
  - Edge ✅
  - IE11 ⚠️ (部分支持)
- 🔍 功能检测 API
- 📋 已知问题文档

### 1️⃣1️⃣ 自定义分页 (Pagination)

- 📄 CSS 分页控制
- 📄 jsPDF 精确分页计算
- 📄 pdfmake 声明式分页
- 💡 最佳实践
- ⚠️ 常见问题及解决方案

## 🎨 技术栈

- **Vue 3.5.25** - 渐进式框架
- **TypeScript 5.9.0** - 类型安全
- **Vite 7.3.0** - 快速构建工具
- **Vue Router 4.6.3** - 路由管理
- **打印库**：
  - print-js
  - vue3-print-nb
  - jspdf
  - pdfmake
  - html2canvas
  - html2pdf.js

## 📊 框架对比速览

| 框架           | 包大小 | 性能       | 兼容性     | 学习曲线   | 适用场景           |
| -------------- | ------ | ---------- | ---------- | ---------- | ------------------ |
| window.print() | 0KB    | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 简单HTML打印       |
| Print.js       | 18KB   | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   | HTML/图片/JSON打印 |
| vue3-print-nb  | 25KB   | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐ | Vue项目            |
| jsPDF          | 280KB  | ⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐ | ⭐⭐⭐     | 复杂PDF生成        |
| pdfmake        | 650KB  | ⭐⭐⭐     | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐   | 声明式PDF          |
| html2canvas    | 170KB  | ⭐⭐⭐     | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   | 页面截图           |
| html2pdf.js    | ~100KB | ⭐⭐⭐     | ⭐⭐⭐⭐   | ⭐⭐⭐⭐   | HTML转PDF          |

## 🎯 使用建议

### 场景 1️⃣：简单网页打印

**推荐**：`window.print()` + CSS `@media print`

- ✅ 零成本
- ✅ 性能最佳
- ✅ 兼容性最好

### 场景 2️⃣：Vue 项目中打印

**推荐**：`vue3-print-nb`

- ✅ Vue 生态集成
- ✅ 指令式使用
- ✅ 轻量级

### 场景 3️⃣：复杂 PDF 报表

**推荐**：`jsPDF` 或 `pdfmake`

- jsPDF：精确控制布局
- pdfmake：快速开发，声明式配置

### 场景 4️⃣：保留样式的 HTML 转 PDF

**推荐**：`html2pdf.js`

- ✅ 样式还原度高
- ✅ 自动分页

### 场景 5️⃣：页面截图/分享

**推荐**：`html2canvas`

- ✅ 高质量截图
- ✅ 导出图片

## ⚠️ 注意事项

### TypeScript 类型问题

项目中某些库的类型定义可能不完整，但**不影响运行**：

- jsPDF 的 `getNumberOfPages()` 类型提示
- pdfmake 字体文件导入
- html2pdf.js 配置选项

### 浏览器兼容性

- **现代浏览器**：Chrome, Firefox, Safari, Edge - 完全支持
- **IE11**：部分功能需要 polyfill
- **移动端**：iOS Safari 打印需要特殊处理

### 打印分页

- CSS 分页：不同浏览器效果可能不一致
- PDF 分页：推荐使用 jsPDF 或 pdfmake 精确控制

## 🔧 构建和部署

### 开发模式

```bash
npm run dev
```

### 生产构建

```bash
npm run build
```

### 预览生产构建

```bash
npm run preview
```

## 📚 学习资源

### 官方文档

- [Print.js](https://printjs.crabbly.com/)
- [vue3-print-nb](https://github.com/Power-kxLee/vue3-print-nb)
- [jsPDF](https://github.com/parallax/jsPDF)
- [pdfmake](http://pdfmake.org/)
- [html2canvas](https://html2canvas.hertzen.com/)
- [html2pdf.js](https://github.com/eKoopmans/html2pdf.js)

### MDN 打印文档

- [CSS Print](https://developer.mozilla.org/en-US/docs/Web/CSS/@media#print)
- [window.print()](https://developer.mozilla.org/en-US/docs/Web/API/Window/print)

## 💡 最佳实践

1. **选择合适的方案**：根据需求选择最简单够用的方案
2. **优化性能**：按需加载打印库
3. **测试打印效果**：不同浏览器测试实际打印输出
4. **分页控制**：重要内容避免分页断开
5. **样式隔离**：打印样式不影响页面显示

## 🤝 贡献

欢迎提交问题和改进建议！

## 📄 许可证

MIT License

---

**Created with ❤️ for Frontend Developers**
